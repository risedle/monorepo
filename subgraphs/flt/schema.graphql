type Factory @entity {
    # factory address
    id: ID!

    # Rise Token info
    fltCount: Int!

    # Total volume (all swaps)
    totalVolumeUSD: BigDecimal!
    totalVolumeETH: BigDecimal!

    # Transactions
    txCount: BigInt!
}

type Token @entity {
    # token address
    id: ID!

    symbol: String!
    name: String!
    decimals: BigInt!
    isFLT: Boolean!

    # used for other stats like marketcap
    totalSupply: BigInt!

    # token specific volume
    tradeVolume: BigDecimal!
    tradeVolumeETH: BigDecimal!
    tradeVolumeUSD: BigDecimal!

    # transactions across all swaps
    txCount: BigInt!

    # derived prices
    derivedETH: BigDecimal!

    # derived fields
    tokenDayData: [TokenDayData!]! @derivedFrom(field: "token")
    tokenHourData: [TokenHourData!]! @derivedFrom(field: "token")
}

type TokenDayData @entity {
    id: ID!
    date: Int!
    token: Token!

    # volume stats
    dailyVolumeToken: BigDecimal!
    dailyVolumeETH: BigDecimal!
    dailyVolumeUSD: BigDecimal!
    dailyTxns: BigInt!

    # price stats
    priceUSD: BigDecimal!
}

type TokenHourData @entity {
    id: ID!
    hourStartUnix: Int! # unix timestamp for start of hour
    token: Token!

    # volume stats
    hourlyVolumeToken: BigDecimal!
    hourlyVolumeETH: BigDecimal!
    hourlyVolumeUSD: BigDecimal!
    hourlyTxns: BigInt!

    # price stats
    priceUSD: BigDecimal!
}
